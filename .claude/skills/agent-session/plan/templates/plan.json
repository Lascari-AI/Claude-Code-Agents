{
  "$schema": "Plan schema for agent-session checkpoint-based planning",

  "session_id": "{{SESSION_ID}}",
  "spec_reference": "./spec.md",
  "created_at": "{{CREATED_AT}}",
  "updated_at": "{{UPDATED_AT}}",
  "status": "draft",

  "checkpoints": [
    {
      "id": 1,
      "title": "{{CHECKPOINT_TITLE}}",
      "goal": "{{CHECKPOINT_GOAL}}",
      "prerequisites": [],
      "status": "pending",

      "file_context": {
        "beginning": {
          "files": [
            {
              "path": "{{FILE_PATH}}",
              "status": "exists",
              "description": "{{FILE_DESCRIPTION}}"
            }
          ],
          "tree": "{{ASCII_TREE}}"
        },
        "ending": {
          "files": [
            {
              "path": "{{FILE_PATH}}",
              "status": "new",
              "description": "{{FILE_DESCRIPTION}}"
            }
          ],
          "tree": "{{ASCII_TREE}}"
        }
      },

      "testing_strategy": {
        "approach": "{{TESTING_APPROACH}}",
        "verification_steps": [
          "{{VERIFICATION_COMMAND}}"
        ]
      },

      "tranches": [
        {
          "id": "1.1",
          "goal": "{{TRANCHE_GOAL}}",
          "tasks": [
            {
              "id": "1.1.1",
              "title": "{{TASK_TITLE}}",
              "file_path": "{{FILE_PATH}}",
              "description": "{{TASK_DESCRIPTION}}",
              "action": "CREATE/UPDATE {{FILE_PATH}}:\n    {{IDK_COMMANDS}}",
              "context": {
                "read_before": [
                  {
                    "file": "{{CONTEXT_FILE}}",
                    "lines": "{{LINE_RANGE}}",
                    "purpose": "{{WHY_READ_THIS}}"
                  }
                ],
                "related_files": [
                  "{{RELATED_FILE}}"
                ]
              },
              "depends_on": [],
              "status": "pending",
              "subtasks": []
            }
          ]
        }
      ]
    }
  ]
}
